## 概念

**自动装箱（Autoboxing）**：指的是 Java 编译器自动将基本数据类型转换为它们对应的包装类型。比如，**将 int 转换为 Integer**。

**自动拆箱（Unboxing）**：指的是 Java 编译器自动将包装类型转换为基本数据类型。比如，**将 Integer 转换为 int**。

这个概念在 Java 5 引入，主要是为了提高代码的可读性，减少手动转换操作，简化了代码编写，开发者可以更方便地在基本类型和包装类型之间进行转换。

常见于：

+ 集合类如 `List<Integer>` 中无法存储基本类型，通过自动装箱，可以将 `int` 转换为 `Integer` 存入集合。
+ 自动装箱和拆箱经常在算术运算中出现，尤其是包装类型参与运算时。

## 底层实现

### 性能影响

自动装箱和拆箱虽然简化了编码，但在频繁使用的场景，可能导致性能开销，尤其是在循环中频繁发生装箱或拆箱时，容易引入不必要的对象创建和垃圾回收。

所以尽量避免在性能敏感的代码中频繁使用自动装箱和拆箱。例如：

```java
Integer sum = 0;
for (int i = 0; i < 10000; i++) {
    sum += i;  // sum 是包装类型，导致多次装箱和拆箱
}
```

### NullPointerException

在进行拆箱操作时，如果包装类对象为 null，会抛出 NullPointerException。
示例：

```java
Integer num = null;
int n = num;  // 抛出 NullPointerException
```