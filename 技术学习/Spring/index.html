
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="the notes record by DopplerXD">
      
      
        <meta name="author" content="DopplerXD">
      
      
        <link rel="canonical" href="https://dopplerxd.top/%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Spring/">
      
      
        <link rel="prev" href="../Redis/">
      
      
        <link rel="next" href="../%E5%85%B6%E4%BB%96%EF%BC%88Linux%E3%80%81Docker%E7%AD%89%EF%BC%89/">
      
      
      <link rel="icon" href="../../assets/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.15">
    
    
      
        <title>Spring - DopplerXD Docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.342714a4.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#spring-bean" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../.." title="DopplerXD Docs" class="md-header__button md-logo" aria-label="DopplerXD Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            DopplerXD Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Spring
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="日间模式"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="日间模式" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4a5 5 0 0 0 5-5 5 5 0 0 0-5-5"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="夜间模式"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="夜间模式" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="indigo"  aria-label="跟随系统"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="跟随系统" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5M7 15a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="分享" aria-label="分享" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/DopplerXD/DopplerXD.github.io" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    DopplerXD.github.io
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  Welcome to Doppler's Notes

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../assets/Fqiev8kFGWaEu6NEcSm1qN7fIcSS/" class="md-tabs__link">
          
  
  
  Assets

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../blog/" class="md-tabs__link">
          
  
  
  Blog

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../leetcode/problems/1361.%20%E9%AA%8C%E8%AF%81%E4%BA%8C%E5%8F%89%E6%A0%91/" class="md-tabs__link">
          
  
  
  Leetcode

        </a>
      </li>
    
  

    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../%E5%85%B6%E4%BB%96%E7%9F%A5%E8%AF%86%26%E6%9D%82%E8%B0%88/%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8%20LaTeX/" class="md-tabs__link">
          
  
  
  其他知识&杂谈

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../%E5%BC%80%E5%8F%91%E7%BB%8F%E9%AA%8C/" class="md-tabs__link">
          
  
  
  开发经验

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../" class="md-tabs__link">
          
  
  
  技术学习

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0/%E5%8D%81%E5%A4%A7%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/" class="md-tabs__link">
          
  
  
  算法

        </a>
      </li>
    
  

    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../%E8%B5%84%E6%BA%90%E5%88%86%E4%BA%AB/good-web/" class="md-tabs__link">
          
  
  
  资源分享

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="DopplerXD Docs" class="md-nav__button md-logo" aria-label="DopplerXD Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    DopplerXD Docs
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/DopplerXD/DopplerXD.github.io" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    DopplerXD.github.io
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Welcome to Doppler's Notes
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../assets/Fqiev8kFGWaEu6NEcSm1qN7fIcSS/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    Assets
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../blog/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    Blog
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    
  
  
  
    <a href="../../leetcode/problems/1361.%20%E9%AA%8C%E8%AF%81%E4%BA%8C%E5%8F%89%E6%A0%91/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    Leetcode
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

  

      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../%E5%85%B6%E4%BB%96%E7%9F%A5%E8%AF%86%26%E6%9D%82%E8%B0%88/%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8%20LaTeX/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    其他知识&杂谈
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../%E5%BC%80%E5%8F%91%E7%BB%8F%E9%AA%8C/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    开发经验
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
        
      
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" checked>
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    技术学习
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            技术学习
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    面试知识整理
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../JUC/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    JUC
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../JVM/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    JVM
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Java%20%E5%9F%BA%E7%A1%80/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Java 基础
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Java%20%E9%9B%86%E5%90%88/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Java 集合
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../MySQL/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    MySQL
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Mybatis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Mybatis
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Redis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Redis
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Spring
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Spring
    
  </span>
  

      </a>
      
        

  

<nav class="md-nav md-nav--secondary" aria-label="On this page">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      On this page
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#spring-bean" class="md-nav__link">
    <span class="md-ellipsis">
      Spring 框架中的单例 Bean 是线程安全的吗？
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bean" class="md-nav__link">
    <span class="md-ellipsis">
      Bean 的生命周期
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ioc-aop" class="md-nav__link">
    <span class="md-ellipsis">
      什么是 IoC 和 AOP，怎么理解的
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ioc-bean" class="md-nav__link">
    <span class="md-ellipsis">
      为什么要 IOC，自己管理 Bean 不行吗
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#springboot" class="md-nav__link">
    <span class="md-ellipsis">
      SpringBoot 自动装配原理
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      循环依赖问题
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#spring" class="md-nav__link">
    <span class="md-ellipsis">
      Spring 事务是什么，事务隔离级别有？
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#transactional" class="md-nav__link">
    <span class="md-ellipsis">
      @Transactional 的失效场景
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#transactional-aop" class="md-nav__link">
    <span class="md-ellipsis">
      @Transactional 在 AOP 中会失效吗，为什么
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      事务嵌套注解生效吗，为什么
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#springboot_1" class="md-nav__link">
    <span class="md-ellipsis">
      用过什么 SpringBoot 中的注解
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#spring_1" class="md-nav__link">
    <span class="md-ellipsis">
      Spring 中注入的常见注解，有什么区别
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#controller-restcontroller" class="md-nav__link">
    <span class="md-ellipsis">
      @Controller 和 @RestController 的区别
    </span>
  </a>
  
    <nav class="md-nav" aria-label="@Controller 和 @RestController 的区别">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1" class="md-nav__link">
    <span class="md-ellipsis">
      1. 功能侧重点
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2" class="md-nav__link">
    <span class="md-ellipsis">
      2. 注解本质
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3" class="md-nav__link">
    <span class="md-ellipsis">
      3. 返回值处理
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4" class="md-nav__link">
    <span class="md-ellipsis">
      4. 示例代码
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#springmvc" class="md-nav__link">
    <span class="md-ellipsis">
      SpringMVC 工作流程
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#springboot_2" class="md-nav__link">
    <span class="md-ellipsis">
      怎么实现 SpringBoot 自动装配、条件装配
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      切面的常用注解是什么，切面切的是什么？
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aop" class="md-nav__link">
    <span class="md-ellipsis">
      注解和 AOP 结合的方式怎么实现，还可以在哪些场景使用
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#resource-autowired" class="md-nav__link">
    <span class="md-ellipsis">
      @Resource 和 @Autowired 区别
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#component-bean" class="md-nav__link">
    <span class="md-ellipsis">
      @Component 和 @Bean 有什么区别？
    </span>
  </a>
  
    <nav class="md-nav" aria-label="@Component 和 @Bean 有什么区别？">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      使用场景
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      使用方式
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      作用目标
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      自动装配和命名
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#spring_2" class="md-nav__link">
    <span class="md-ellipsis">
      Spring 中你认为比较重要的设计模式
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#spring-transactional" class="md-nav__link">
    <span class="md-ellipsis">
      Spring 的事务 @Transactional 如果不抛出异常，如何回滚
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#spring-ioc-aop" class="md-nav__link">
    <span class="md-ellipsis">
      Spring 底层是怎么实现 IoC 和 AOP 的？
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Spring 底层是怎么实现 IoC 和 AOP 的？">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ioc" class="md-nav__link">
    <span class="md-ellipsis">
      IoC（控制反转）的实现
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aop_1" class="md-nav__link">
    <span class="md-ellipsis">
      AOP（面向切面编程）的实现
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%85%B6%E4%BB%96%EF%BC%88Linux%E3%80%81Docker%E7%AD%89%EF%BC%89/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    其他（Linux、Docker等）
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%9C%BA%E6%99%AF%E9%A2%98/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    场景题
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%BE%AE%E6%9C%8D%E5%8A%A1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    微服务
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    操作系统
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    消息队列
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84%EF%BC%88DDD%E7%AD%89%EF%BC%89/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    系统架构（DDD等）
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    计算机网络
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E8%AE%A4%E8%AF%81%E6%8E%88%E6%9D%83/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    认证授权
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    设计模式
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    软件测试
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    
  
  
  
    <a href="../../%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0/%E5%8D%81%E5%A4%A7%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    算法
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

  

      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../%E8%B5%84%E6%BA%90%E5%88%86%E4%BA%AB/good-web/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    资源分享
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  

<nav class="md-nav md-nav--secondary" aria-label="On this page">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      On this page
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#spring-bean" class="md-nav__link">
    <span class="md-ellipsis">
      Spring 框架中的单例 Bean 是线程安全的吗？
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bean" class="md-nav__link">
    <span class="md-ellipsis">
      Bean 的生命周期
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ioc-aop" class="md-nav__link">
    <span class="md-ellipsis">
      什么是 IoC 和 AOP，怎么理解的
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ioc-bean" class="md-nav__link">
    <span class="md-ellipsis">
      为什么要 IOC，自己管理 Bean 不行吗
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#springboot" class="md-nav__link">
    <span class="md-ellipsis">
      SpringBoot 自动装配原理
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      循环依赖问题
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#spring" class="md-nav__link">
    <span class="md-ellipsis">
      Spring 事务是什么，事务隔离级别有？
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#transactional" class="md-nav__link">
    <span class="md-ellipsis">
      @Transactional 的失效场景
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#transactional-aop" class="md-nav__link">
    <span class="md-ellipsis">
      @Transactional 在 AOP 中会失效吗，为什么
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      事务嵌套注解生效吗，为什么
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#springboot_1" class="md-nav__link">
    <span class="md-ellipsis">
      用过什么 SpringBoot 中的注解
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#spring_1" class="md-nav__link">
    <span class="md-ellipsis">
      Spring 中注入的常见注解，有什么区别
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#controller-restcontroller" class="md-nav__link">
    <span class="md-ellipsis">
      @Controller 和 @RestController 的区别
    </span>
  </a>
  
    <nav class="md-nav" aria-label="@Controller 和 @RestController 的区别">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1" class="md-nav__link">
    <span class="md-ellipsis">
      1. 功能侧重点
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2" class="md-nav__link">
    <span class="md-ellipsis">
      2. 注解本质
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3" class="md-nav__link">
    <span class="md-ellipsis">
      3. 返回值处理
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4" class="md-nav__link">
    <span class="md-ellipsis">
      4. 示例代码
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#springmvc" class="md-nav__link">
    <span class="md-ellipsis">
      SpringMVC 工作流程
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#springboot_2" class="md-nav__link">
    <span class="md-ellipsis">
      怎么实现 SpringBoot 自动装配、条件装配
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      切面的常用注解是什么，切面切的是什么？
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aop" class="md-nav__link">
    <span class="md-ellipsis">
      注解和 AOP 结合的方式怎么实现，还可以在哪些场景使用
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#resource-autowired" class="md-nav__link">
    <span class="md-ellipsis">
      @Resource 和 @Autowired 区别
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#component-bean" class="md-nav__link">
    <span class="md-ellipsis">
      @Component 和 @Bean 有什么区别？
    </span>
  </a>
  
    <nav class="md-nav" aria-label="@Component 和 @Bean 有什么区别？">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      使用场景
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      使用方式
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      作用目标
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      自动装配和命名
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#spring_2" class="md-nav__link">
    <span class="md-ellipsis">
      Spring 中你认为比较重要的设计模式
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#spring-transactional" class="md-nav__link">
    <span class="md-ellipsis">
      Spring 的事务 @Transactional 如果不抛出异常，如何回滚
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#spring-ioc-aop" class="md-nav__link">
    <span class="md-ellipsis">
      Spring 底层是怎么实现 IoC 和 AOP 的？
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Spring 底层是怎么实现 IoC 和 AOP 的？">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ioc" class="md-nav__link">
    <span class="md-ellipsis">
      IoC（控制反转）的实现
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aop_1" class="md-nav__link">
    <span class="md-ellipsis">
      AOP（面向切面编程）的实现
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


  <h1>Spring</h1>

<h2 id="spring-bean">Spring 框架中的单例 Bean 是线程安全的吗？<a class="headerlink" href="#spring-bean" title="Permanent link">&para;</a></h2>
<p>结论：不是线程安全的。</p>
<p>Spring 中的 bean 默认是单例模式，框架中并没有对单例 bean 进行多线程的封装处理。</p>
<p>Spring Bean 并没有可变的状态（如 Service 和 DAO 类），所以在某种程度上说 Spring 单例 Bean 是线程安全的。</p>
<p>但是如果 bean 中定义了可修改的成员变量，就需要考虑线程安全问题了，可以用多例或加锁来解决。</p>
<p>如定义 bean 时添加注解 <code>@Scope("prototype")</code>（默认为 singleton），这样请求 bean 相当于 new Bean() 了，就能够保证线程安全了。</p>
<h2 id="bean">Bean 的生命周期<a class="headerlink" href="#bean" title="Permanent link">&para;</a></h2>
<p>Spring 中 Bean 的生命周期包含以下几个关键阶段：</p>
<ul>
<li><strong>实例化</strong>：通过反射机制创建 Bean 的实例。</li>
<li><strong>属性赋值</strong>：为 Bean 的属性设置值和对其他 Bean 的引用。</li>
<li><strong>初始化</strong>：<ul>
<li>实现 <code>InitializingBean</code> 接口，调用 <code>afterPropertiesSet</code> 方法。</li>
<li>自定义初始化方法（使用 <code>@PostConstruct</code> 注解或 <code>init - method</code> 属性指定）。</li>
</ul>
</li>
<li><strong>使用</strong>：Bean 正常使用，处理业务逻辑。</li>
<li><strong>销毁</strong>：<ul>
<li>实现 <code>DisposableBean</code> 接口，调用 <code>destroy</code> 方法。</li>
<li>自定义销毁方法（使用 <code>@PreDestroy</code> 注解或 <code>destroy - method</code> 属性指定）。</li>
</ul>
</li>
</ul>
<h2 id="ioc-aop">什么是 IoC 和 AOP，怎么理解的<a class="headerlink" href="#ioc-aop" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>IoC（Inversion of Control，控制反转）</strong>：是一种设计原则，将对象的创建和依赖关系的管理从代码中转移到外部容器（如 Spring 容器）。以前对象的创建和依赖关系的维护由开发者手动控制，现在交给容器来完成。例如，一个 <code>UserService</code> 依赖 <code>UserDao</code>，在传统方式中，<code>UserService</code> 内部会手动创建 <code>UserDao</code> 实例，而在 IoC 模式下，Spring 容器会创建 <code>UserDao</code> 实例并注入到 <code>UserService</code> 中。</li>
<li><strong>AOP（Aspect - Oriented Programming，面向切面编程）</strong>：是对面向对象编程的一种补充。它将与业务逻辑无关但被多个模块共同使用的功能（如日志记录、事务管理等）提取出来，形成一个切面，然后将这些切面动态地织入到目标对象的方法执行过程中。比如在多个业务方法执行前后添加日志记录，使用 AOP 可以避免在每个方法中重复编写日志代码。</li>
</ul>
<h2 id="ioc-bean">为什么要 IOC，自己管理 Bean 不行吗<a class="headerlink" href="#ioc-bean" title="Permanent link">&para;</a></h2>
<p>可以自己管理 Bean，但使用 IOC 有以下优势：</p>
<ul>
<li><strong>降低耦合度</strong>：对象之间的依赖关系由容器管理，对象只需要关注自身的业务逻辑，不需要关心依赖对象的创建和管理，降低了代码的耦合度。</li>
<li><strong>提高可维护性和可测试性</strong>：由于依赖关系的管理集中在容器中，当依赖关系发生变化时，只需要修改容器的配置，而不需要修改大量的业务代码。同时，在进行单元测试时，可以方便地替换依赖对象。</li>
<li><strong>方便实现单例模式和对象的生命周期管理</strong>：Spring 容器可以方便地实现单例模式，并且可以管理对象的生命周期，确保对象在合适的时间被创建和销毁。</li>
</ul>
<h2 id="springboot">SpringBoot 自动装配原理<a class="headerlink" href="#springboot" title="Permanent link">&para;</a></h2>
<p>Spring Boot 自动装配基于以下几个核心机制：</p>
<ul>
<li><strong>@SpringBootApplication 注解</strong>：它是一个组合注解，包含 <code>@SpringBootConfiguration</code>、<code>@EnableAutoConfiguration</code> 和 <code>@ComponentScan</code>。其中 <code>@EnableAutoConfiguration</code> 是开启自动装配的关键。</li>
<li><strong>自动配置类</strong>：Spring Boot 在 <code>spring - boot - autoconfigure</code> 模块中提供了大量的自动配置类，这些类位于 <code>META - INF/spring.factories</code> 文件中。当 Spring Boot 应用启动时，会根据类路径下的依赖和配置信息，自动加载合适的自动配置类。</li>
<li><strong>条件注解</strong>：自动配置类中使用了大量的条件注解（如 <code>@ConditionalOnClass</code>、<code>@ConditionalOnMissingBean</code> 等），根据不同的条件来决定是否加载该配置类。例如，<code>@ConditionalOnClass</code> 表示只有当类路径下存在指定的类时，才会加载该配置类。</li>
</ul>
<h2 id="_1">循环依赖问题<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h2>
<p>循环依赖指的是两个或多个 Bean 之间相互依赖，形成一个闭环。例如，<code>A</code> 依赖 <code>B</code>，<code>B</code> 又依赖 <code>A</code>。Spring 可以解决单例 Bean 的循环依赖问题，主要通过三级缓存机制：</p>
<ul>
<li><strong>一级缓存（singletonObjects）</strong>：存储已经完全初始化好的单例 Bean。</li>
<li><strong>二级缓存（singletonFactories）</strong>：存储单例 Bean 的工厂对象，用于提前暴露 Bean 的引用。</li>
<li><strong>三级缓存（earlySingletonObjects）</strong>：存储提前曝光的单例 Bean 实例，这些 Bean 还没有完成初始化。</li>
</ul>
<p>当出现循环依赖时，Spring 会先将创建中的 Bean 放入三级缓存，当另一个 Bean 需要依赖该 Bean 时，会从三级缓存中获取其引用，避免了死循环。</p>
<h2 id="spring">Spring 事务是什么，事务隔离级别有？<a class="headerlink" href="#spring" title="Permanent link">&para;</a></h2>
<p>Spring 事务是对数据库事务的封装，通过 Spring 的事务管理机制，可以方便地对数据库操作进行事务控制。Spring 支持编程式事务和声明式事务（使用 <code>@Transactional</code> 注解）。</p>
<p>Spring 支持的事务隔离级别与数据库的事务隔离级别相对应，主要有：</p>
<ul>
<li><strong>ISOLATION_DEFAULT</strong>：使用数据库默认的隔离级别。</li>
<li><strong>ISOLATION_READ_UNCOMMITTED</strong>：读未提交，允许读取未提交的数据，可能会出现脏读、不可重复读和幻读问题。</li>
<li><strong>ISOLATION_READ_COMMITTED</strong>：读已提交，避免了脏读，但可能会出现不可重复读和幻读问题。</li>
<li><strong>ISOLATION_REPEATABLE_READ</strong>：可重复读，保证在同一个事务中多次读取同一数据的结果是一致的，避免了脏读和不可重复读，但可能会出现幻读问题。</li>
<li><strong>ISOLATION_SERIALIZABLE</strong>：串行化，最高的隔离级别，避免了脏读、不可重复读和幻读问题，但会导致并发性能下降。</li>
</ul>
<h2 id="transactional">@Transactional 的失效场景<a class="headerlink" href="#transactional" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>方法不是 public</strong>：<code>@Transactional</code> 注解只能应用于 <code>public</code> 方法，因为 Spring 的 AOP 是基于代理模式实现的，非 <code>public</code> 方法无法被代理。</li>
<li><strong>自调用问题</strong>：在同一个类中，一个方法调用另一个带有 <code>@Transactional</code> 注解的方法，事务不会生效，因为这种调用没有经过 Spring 的代理对象。</li>
<li><strong>异常类型不匹配</strong>：<code>@Transactional</code> 注解默认只对 <code>RuntimeException</code> 和 <code>Error</code> 进行回滚，如果抛出的异常不是这两种类型，且没有指定 <code>rollbackFor</code> 属性，事务不会回滚。</li>
<li><strong>数据库不支持事务</strong>：如果使用的数据库不支持事务（如 MySQL 的 MyISAM 存储引擎），<code>@Transactional</code> 注解不会生效。</li>
</ul>
<h2 id="transactional-aop">@Transactional 在 AOP 中会失效吗，为什么<a class="headerlink" href="#transactional-aop" title="Permanent link">&para;</a></h2>
<p>可能会失效。原因如下：</p>
<ul>
<li><strong>代理对象问题</strong>：<code>@Transactional</code> 是基于 AOP 代理实现的，如果调用的方法不是通过代理对象调用，而是直接在同一个类中进行方法调用，事务不会生效。因为 AOP 代理是在对象外部进行增强，内部方法调用绕过了代理对象。</li>
<li><strong>异常处理问题</strong>：如果在方法内部捕获了异常并且没有重新抛出，Spring 无法感知到异常，也就不会触发事务的回滚。</li>
</ul>
<h2 id="_2">事务嵌套注解生效吗，为什么<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h2>
<p>事务嵌套注解可以生效。当一个带有 <code>@Transactional</code> 注解的方法调用另一个同样带有 <code>@Transactional</code> 注解的方法时，会根据 <code>propagation</code> 属性（事务传播行为）来决定如何处理嵌套事务。例如，<code>PROPAGATION_REQUIRED</code> 表示如果当前存在事务，则加入该事务；如果不存在事务，则创建一个新的事务。不同的传播行为可以满足不同的业务需求。</p>
<h2 id="springboot_1">用过什么 SpringBoot 中的注解<a class="headerlink" href="#springboot_1" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>@SpringBootApplication</strong>：开启 Spring Boot 应用的自动配置、组件扫描等功能。</li>
<li><strong>@RestController</strong>：用于创建 RESTful 风格的控制器，相当于 <code>@Controller</code> 和 <code>@ResponseBody</code> 的组合。</li>
<li><strong>@RequestMapping</strong>：用于映射 HTTP 请求到控制器的方法上。</li>
<li><strong>@GetMapping</strong>、<code>@PostMapping</code>、<code>@PutMapping</code>、<code>@DeleteMapping</code>：分别用于处理 GET、POST、PUT、DELETE 请求。</li>
<li><strong>@Autowired</strong>：用于自动注入依赖的 Bean。</li>
<li><strong>@Value</strong>：用于从配置文件中获取属性值。</li>
<li><strong>@Configuration</strong>：用于定义配置类，相当于 Spring 的 XML 配置文件。</li>
<li><strong>@ComponentScan</strong>：用于指定 Spring 扫描组件的包路径。</li>
</ul>
<h2 id="spring_1">Spring 中注入的常见注解，有什么区别<a class="headerlink" href="#spring_1" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>@Autowired</strong>：Spring 框架提供的注解，默认按照类型进行注入。如果存在多个相同类型的 Bean，会根据属性名进行匹配，如果匹配不上会抛出异常。可以通过 <code>@Qualifier</code> 注解指定具体的 Bean 名称。</li>
<li><strong>@Resource</strong>：Java 提供的注解，默认按照名称进行注入，如果找不到对应的名称，则按照类型进行注入。</li>
<li><strong>@Inject</strong>：JSR - 330 规范提供的注解，功能和 <code>@Autowired</code> 类似，默认按照类型进行注入。</li>
</ul>
<h2 id="controller-restcontroller">@Controller 和 @RestController 的区别<a class="headerlink" href="#controller-restcontroller" title="Permanent link">&para;</a></h2>
<p>@Controller 和 @RestController 在Spring框架中，<code>@Controller</code> 和 <code>@RestController</code> 都用于标识一个类作为控制器，但它们之间存在一些关键区别：</p>
<h3 id="1">1. 功能侧重点<a class="headerlink" href="#1" title="Permanent link">&para;</a></h3>
<ul>
<li><code>@Controller</code>：主要用于处理Web请求，并将请求映射到相应的处理方法。它通常用于传统的MVC（Model - View - Controller）架构中，侧重于返回一个视图（View），例如JSP、Thymeleaf模板等。处理方法可以通过 <code>Model</code> 对象将数据传递给视图进行展示。</li>
<li><code>@RestController</code>：是一个专门用于创建RESTful Web服务的控制器。它侧重于返回数据，通常以JSON、XML等格式直接返回给客户端，而不是返回一个视图。这在前后端分离的开发模式中非常常用，前端通过HTTP请求获取后端返回的数据来渲染页面。</li>
</ul>
<h3 id="2">2. 注解本质<a class="headerlink" href="#2" title="Permanent link">&para;</a></h3>
<ul>
<li><code>@Controller</code>：是一个常规的Spring组件注解，用于标识该类为一个控制器。它本身并不包含处理HTTP请求返回数据格式的特定逻辑。</li>
<li><code>@RestController</code>：实际上是一个组合注解，它结合了 <code>@Controller</code> 和 <code>@ResponseBody</code> 注解的功能。<code>@ResponseBody</code> 注解的作用是将控制器方法的返回值直接写入HTTP响应体中，而不会经过视图解析器进行视图解析。</li>
</ul>
<h3 id="3">3. 返回值处理<a class="headerlink" href="#3" title="Permanent link">&para;</a></h3>
<ul>
<li><code>@Controller</code>：处理方法的返回值通常被视为视图名。Spring会通过视图解析器将视图名解析为实际的视图资源，然后将模型数据填充到视图中进行渲染，最终返回给客户端。例如，如果返回值是 <code>"home"</code>，视图解析器会查找名为 <code>home</code> 的视图资源（如 <code>home.jsp</code> 或 <code>home.html</code>，取决于具体的视图解析器配置）。</li>
<li><code>@RestController</code>：处理方法的返回值会直接作为HTTP响应体返回给客户端，并且会根据 <code>HttpMessageConverter</code> 机制将返回对象转换为合适的格式（如JSON、XML等）。例如，返回一个Java对象，Spring会自动将其转换为JSON格式并返回给客户端，无需额外配置视图解析。</li>
</ul>
<h3 id="4">4. 示例代码<a class="headerlink" href="#4" title="Permanent link">&para;</a></h3>
<p>使用 <code>@Controller</code></p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Java</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-0-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-0-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-0-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-0-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-0-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-0-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-0-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-0-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-0-10">10</a></span>
<span class="normal"><a href="#__codelineno-0-11">11</a></span>
<span class="normal"><a href="#__codelineno-0-12">12</a></span>
<span class="normal"><a href="#__codelineno-0-13">13</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.stereotype.Controller</span><span class="p">;</span>
<a id="__codelineno-0-2" name="__codelineno-0-2"></a><span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.ui.Model</span><span class="p">;</span>
<a id="__codelineno-0-3" name="__codelineno-0-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.web.bind.annotation.GetMapping</span><span class="p">;</span>
<a id="__codelineno-0-4" name="__codelineno-0-4"></a>
<a id="__codelineno-0-5" name="__codelineno-0-5"></a><span class="nd">@Controller</span>
<a id="__codelineno-0-6" name="__codelineno-0-6"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">HomeController</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-0-7" name="__codelineno-0-7"></a>
<a id="__codelineno-0-8" name="__codelineno-0-8"></a><span class="w">    </span><span class="nd">@GetMapping</span><span class="p">(</span><span class="s">&quot;/home&quot;</span><span class="p">)</span>
<a id="__codelineno-0-9" name="__codelineno-0-9"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">home</span><span class="p">(</span><span class="n">Model</span><span class="w"> </span><span class="n">model</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-0-10" name="__codelineno-0-10"></a><span class="w">        </span><span class="n">model</span><span class="p">.</span><span class="na">addAttribute</span><span class="p">(</span><span class="s">&quot;message&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Welcome to the home page!&quot;</span><span class="p">);</span>
<a id="__codelineno-0-11" name="__codelineno-0-11"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="s">&quot;home&quot;</span><span class="p">;</span>
<a id="__codelineno-0-12" name="__codelineno-0-12"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-0-13" name="__codelineno-0-13"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>在上述代码中，<code>home</code> 方法返回视图名 <code>"home"</code>，Spring会通过视图解析器查找并渲染对应的视图，同时将 <code>message</code> 数据传递给视图。</p>
<p>使用 <code>@RestController</code></p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Java</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-1-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-1-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-1-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-1-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-1-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-1-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-1-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-1-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-1-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-1-10">10</a></span>
<span class="normal"><a href="#__codelineno-1-11">11</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1"></a><span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.web.bind.annotation.GetMapping</span><span class="p">;</span>
<a id="__codelineno-1-2" name="__codelineno-1-2"></a><span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.web.bind.annotation.RestController</span><span class="p">;</span>
<a id="__codelineno-1-3" name="__codelineno-1-3"></a>
<a id="__codelineno-1-4" name="__codelineno-1-4"></a><span class="nd">@RestController</span>
<a id="__codelineno-1-5" name="__codelineno-1-5"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ApiController</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-1-6" name="__codelineno-1-6"></a>
<a id="__codelineno-1-7" name="__codelineno-1-7"></a><span class="w">    </span><span class="nd">@GetMapping</span><span class="p">(</span><span class="s">&quot;/api/data&quot;</span><span class="p">)</span>
<a id="__codelineno-1-8" name="__codelineno-1-8"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">getData</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-1-9" name="__codelineno-1-9"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="s">&quot;{\&quot;message\&quot;:\&quot;This is JSON data from RESTful API\&quot;}&quot;</span><span class="p">;</span>
<a id="__codelineno-1-10" name="__codelineno-1-10"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-1-11" name="__codelineno-1-11"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>这里 <code>getData</code> 方法直接返回一个字符串，Spring会将其作为响应体返回给客户端，并且由于 <code>@RestController</code> 的作用，会按照 <code>HttpMessageConverter</code> 机制处理返回值格式，默认会将字符串作为JSON格式数据返回（如果客户端期望的是JSON格式）。</p>
<p>总结来说，如果开发的是传统的MVC应用，需要返回视图，使用 <code>@Controller</code>；如果开发的是RESTful Web服务，主要返回数据给前端，使用 <code>@RestController</code> 更为合适。</p>
<h2 id="springmvc">SpringMVC 工作流程<a class="headerlink" href="#springmvc" title="Permanent link">&para;</a></h2>
<ul>
<li>用户发送请求到前端控制器 <code>DispatcherServlet</code>。</li>
<li><code>DispatcherServlet</code> 接收请求后，调用 <code>HandlerMapping</code> 查找处理该请求的 <code>Handler</code>（控制器方法）。</li>
<li><code>HandlerMapping</code> 返回一个 <code>HandlerExecutionChain</code> 对象，包含 <code>Handler</code> 和对应的拦截器。</li>
<li><code>DispatcherServlet</code> 调用 <code>HandlerAdapter</code> 来执行 <code>Handler</code>。</li>
<li><code>HandlerAdapter</code> 调用具体的 <code>Handler</code> 处理请求，并返回一个 <code>ModelAndView</code> 对象。</li>
<li><code>DispatcherServlet</code> 调用 <code>ViewResolver</code> 解析 <code>ModelAndView</code> 中的视图名称，返回一个 <code>View</code> 对象。</li>
<li><code>DispatcherServlet</code> 调用 <code>View</code> 的 <code>render</code> 方法，将模型数据渲染到视图上，并返回给用户。</li>
</ul>
<h2 id="springboot_2">怎么实现 SpringBoot 自动装配、条件装配<a class="headerlink" href="#springboot_2" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>自动装配</strong>：<ul>
<li>创建自动配置类，使用 <code>@Configuration</code> 注解标记。</li>
<li>在自动配置类中使用 <code>@Conditional</code> 系列注解（如 <code>@ConditionalOnClass</code>、<code>@ConditionalOnMissingBean</code> 等）根据条件进行配置。</li>
<li>在 <code>META - INF/spring.factories</code> 文件中指定自动配置类的全限定名。</li>
</ul>
</li>
<li><strong>条件装配</strong>：<ul>
<li>使用 <code>@Conditional</code> 注解及其派生注解（如 <code>@ConditionalOnProperty</code>、<code>@ConditionalOnResource</code> 等）来控制 Bean 的创建条件。例如，<code>@ConditionalOnProperty</code> 可以根据配置文件中的属性值来决定是否创建 Bean。</li>
</ul>
</li>
</ul>
<h2 id="_3">切面的常用注解是什么，切面切的是什么？<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>常用注解</strong>：<ul>
<li><strong>@Aspect</strong>：用于定义切面类。</li>
<li><strong>@Before</strong>：前置通知，在目标方法执行之前执行。</li>
<li><strong>@After</strong>：后置通知，在目标方法执行之后执行，无论目标方法是否抛出异常。</li>
<li><strong>@AfterReturning</strong>：返回通知，在目标方法正常返回后执行。</li>
<li><strong>@AfterThrowing</strong>：异常通知，在目标方法抛出异常后执行。</li>
<li><strong>@Around</strong>：环绕通知，在目标方法执行前后都可以进行增强。</li>
</ul>
</li>
<li><strong>切面切的是连接点</strong>：连接点是程序执行过程中的一个点，如方法调用、异常抛出等。在 Spring AOP 中，主要切的是方法调用，通过定义切入点表达式来指定要拦截的方法。</li>
</ul>
<h2 id="aop">注解和 AOP 结合的方式怎么实现，还可以在哪些场景使用<a class="headerlink" href="#aop" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>实现方式</strong>：<ul>
<li>定义一个自定义注解，例如 <code>@MyAnnotation</code>。</li>
<li>创建一个切面类，使用 <code>@Aspect</code> 注解标记，在切面类中使用切入点表达式匹配使用了 <code>@MyAnnotation</code> 注解的方法。</li>
<li>在切面类中使用 <code>@Before</code>、<code>@After</code> 等通知注解对匹配的方法进行增强。</li>
</ul>
</li>
<li><strong>应用场景</strong>：<ul>
<li><strong>日志记录</strong>：在方法执行前后记录日志。</li>
<li><strong>权限验证</strong>：在方法执行前验证用户的权限。</li>
<li><strong>事务管理</strong>：使用 <code>@Transactional</code> 注解结合 AOP 实现事务的管理。</li>
<li><strong>性能监控</strong>：记录方法的执行时间。</li>
</ul>
</li>
</ul>
<h2 id="resource-autowired">@Resource 和 @Autowired 区别<a class="headerlink" href="#resource-autowired" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>来源不同</strong>：<code>@Autowired</code> 是 Spring 框架提供的注解，<code>@Resource</code> 是 Java 提供的注解（JSR - 250 规范）。</li>
<li><strong>注入方式不同</strong>：<code>@Autowired</code> 默认按照类型进行注入，<code>@Resource</code> 默认按照名称进行注入。</li>
<li><strong>处理多个 Bean 时的行为不同</strong>：当存在多个相同类型的 Bean 时，<code>@Autowired</code> 需要结合 <code>@Qualifier</code> 注解指定 Bean 名称，<code>@Resource</code> 可以直接通过名称匹配。</li>
</ul>
<h2 id="component-bean">@Component 和 @Bean 有什么区别？<a class="headerlink" href="#component-bean" title="Permanent link">&para;</a></h2>
<p>都用于将对象交给 Spring 容器管理，但在使用场景、使用方式和作用目标等方面存在区别：</p>
<h3 id="_4">使用场景<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h3>
<ul>
<li><code>@Component</code>：一般用于类层面，适用于那些比较常规的组件，比如服务层、数据访问层等。Spring 会自动扫描带有 <code>@Component</code> 注解及其派生注解（像 <code>@Service</code>、<code>@Repository</code>、<code>@Controller</code>）的类，并将它们注册到 Spring 容器中。这种方式适合处理那些可以通过组件扫描机制自动发现并注册的类。</li>
<li><code>@Bean</code>：通常用于方法层面，适合手动创建和配置 Bean。当需要对 Bean 的创建过程进行更多的控制，或者要集成第三方库的类时，就可以使用 <code>@Bean</code> 注解。例如，当使用外部库提供的类，且需要对其进行自定义配置时，就可以在配置类里使用 <code>@Bean</code> 方法来创建和配置这个类的实例。</li>
</ul>
<h3 id="_5">使用方式<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h3>
<ul>
<li><code>@Component</code>：只需将 <code>@Component</code> 注解添加到类的定义上即可。Spring 会在启动时自动扫描指定包下带有该注解的类，并将其作为 Bean 注册到容器中。示例如下：</li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Java</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-2-1">1</a></span>
<span class="normal"><a href="#__codelineno-2-2">2</a></span>
<span class="normal"><a href="#__codelineno-2-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1"></a><span class="nd">@Component</span>
<a id="__codelineno-2-2" name="__codelineno-2-2"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">MyComponent</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-2-3" name="__codelineno-2-3"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<ul>
<li><code>@Bean</code>：需要在配置类（带有 <code>@Configuration</code> 注解的类）里定义一个方法，在方法上添加 <code>@Bean</code> 注解，该方法的返回值就是要注册到 Spring 容器中的 Bean。示例如下：</li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Java</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-3-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-3-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-3-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-3-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-3-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-3-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-3-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-3-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-3-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-3-10">10</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1"></a><span class="nd">@Configuration</span>
<a id="__codelineno-3-2" name="__codelineno-3-2"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">MyConfig</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-3-3" name="__codelineno-3-3"></a><span class="w">    </span><span class="nd">@Bean</span>
<a id="__codelineno-3-4" name="__codelineno-3-4"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">MyBean</span><span class="w"> </span><span class="nf">myBean</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-3-5" name="__codelineno-3-5"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">MyBean</span><span class="p">();</span>
<a id="__codelineno-3-6" name="__codelineno-3-6"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-3-7" name="__codelineno-3-7"></a><span class="p">}</span>
<a id="__codelineno-3-8" name="__codelineno-3-8"></a>
<a id="__codelineno-3-9" name="__codelineno-3-9"></a><span class="kd">class</span> <span class="nc">MyBean</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-3-10" name="__codelineno-3-10"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<h3 id="_6">作用目标<a class="headerlink" href="#_6" title="Permanent link">&para;</a></h3>
<ul>
<li><code>@Component</code>：作用于类，将<strong>整个类作为一个 Bean</strong> 注册到 Spring 容器中。Spring 会使用默认的构造函数来创建该类的实例，并进行依赖注入。</li>
<li><code>@Bean</code>：作用于方法，<strong>方法的返回值会被注册为 Bean</strong>。可以在方法内部编写复杂的逻辑来创建和配置 Bean，例如设置 Bean 的属性、调用初始化方法等。</li>
</ul>
<h3 id="_7">自动装配和命名<a class="headerlink" href="#_7" title="Permanent link">&para;</a></h3>
<ul>
<li><code>@Component</code>：默认情况下，Bean 的名称是类名的首字母小写。不过可以通过 <code>@Component</code> 注解的参数来指定 Bean 的名称。例如：<code>@Component("myCustomComponent")</code>。</li>
<li><code>@Bean</code>：默认情况下，Bean 的名称是方法名。也可以通过 <code>@Bean</code> 注解的参数来指定 Bean 的名称。例如：<code>@Bean("myCustomBean")</code>。</li>
</ul>
<p>综上所述，<code>@Component</code> 适合自动扫描和注册常规组件，而 <code>@Bean</code> 更适合手动创建和配置 Bean，尤其是在需要对 Bean 的创建过程进行精细控制时。</p>
<p>如需要引入第三方包的一个类，我们不能通过修改源码使用 @Component，这时就可以用 @Bean 来进行注入。</p>
<h2 id="spring_2">Spring 中你认为比较重要的设计模式<a class="headerlink" href="#spring_2" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>单例模式</strong>：Spring 容器中的 Bean 默认是单例的，通过单例模式确保一个 Bean 在整个应用中只有一个实例，减少了资源的消耗。</li>
<li><strong>工厂模式</strong>：Spring 的 <code>BeanFactory</code> 和 <code>ApplicationContext</code> 就是工厂模式的体现，负责创建和管理 Bean 对象。</li>
<li><strong>代理模式</strong>：Spring AOP 是基于代理模式实现的，通过代理对象对目标对象进行增强，实现了日志记录、事务管理等功能。</li>
<li><strong>观察者模式</strong>：Spring 中的事件机制就是观察者模式的应用，当一个事件发生时，会通知所有注册的监听器进行相应的处理。</li>
</ul>
<h2 id="spring-transactional">Spring 的事务 @Transactional 如果不抛出异常，如何回滚<a class="headerlink" href="#spring-transactional" title="Permanent link">&para;</a></h2>
<p>可以在方法内部手动调用 <code>TransactionAspectSupport.currentTransactionStatus().setRollbackOnly()</code> 方法来设置事务回滚。例如：</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Java</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-4-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-4-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-4-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-4-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-4-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-4-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-4-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-4-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-4-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-4-10">10</a></span>
<span class="normal"><a href="#__codelineno-4-11">11</a></span>
<span class="normal"><a href="#__codelineno-4-12">12</a></span>
<span class="normal"><a href="#__codelineno-4-13">13</a></span>
<span class="normal"><a href="#__codelineno-4-14">14</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1"></a><span class="nd">@Service</span>
<a id="__codelineno-4-2" name="__codelineno-4-2"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">UserService</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-4-3" name="__codelineno-4-3"></a><span class="w">    </span><span class="nd">@Transactional</span>
<a id="__codelineno-4-4" name="__codelineno-4-4"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">updateUser</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-4-5" name="__codelineno-4-5"></a><span class="w">        </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-4-6" name="__codelineno-4-6"></a><span class="w">            </span><span class="c1">// 业务逻辑</span>
<a id="__codelineno-4-7" name="__codelineno-4-7"></a><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">someCondition</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-4-8" name="__codelineno-4-8"></a><span class="w">                </span><span class="n">TransactionAspectSupport</span><span class="p">.</span><span class="na">currentTransactionStatus</span><span class="p">().</span><span class="na">setRollbackOnly</span><span class="p">();</span>
<a id="__codelineno-4-9" name="__codelineno-4-9"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-4-10" name="__codelineno-4-10"></a><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">Exception</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-4-11" name="__codelineno-4-11"></a><span class="w">            </span><span class="c1">// 异常处理</span>
<a id="__codelineno-4-12" name="__codelineno-4-12"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-4-13" name="__codelineno-4-13"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-4-14" name="__codelineno-4-14"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<h2 id="spring-ioc-aop">Spring 底层是怎么实现 IoC 和 AOP 的？<a class="headerlink" href="#spring-ioc-aop" title="Permanent link">&para;</a></h2>
<h3 id="ioc">IoC（控制反转）的实现<a class="headerlink" href="#ioc" title="Permanent link">&para;</a></h3>
<p>IoC 的核心思想是将对象的创建、依赖关系的管理等控制权从代码中转移到 Spring 容器中，Spring 底层主要通过以下几个关键组件和技术来实现 IoC：</p>
<ul>
<li><strong>BeanDefinition</strong>：这是对 Bean 的抽象描述，它包含了 Bean 的各种元信息，如类名、作用域、依赖关系等。Spring 在启动时会解析配置文件（如 XML 配置文件、Java 注解等），将其中定义的 Bean 信息封装成 <code>BeanDefinition</code> 对象，存储在 <code>BeanDefinitionRegistry</code> 中。</li>
<li><strong>BeanFactory</strong>：作为 Spring 容器的核心接口，<code>BeanFactory</code> 负责创建和管理 Bean。它根据 <code>BeanDefinition</code> 来创建 Bean 实例，支持延迟加载、依赖注入等功能。常见的实现类有 <code>DefaultListableBeanFactory</code>。</li>
<li><strong>ApplicationContext</strong>：它是 <code>BeanFactory</code> 的子接口，在 <code>BeanFactory</code> 的基础上提供了更多的企业级功能，如国际化支持、事件发布等。<code>ApplicationContext</code> 在启动时会自动创建所有单例 Bean，而 <code>BeanFactory</code> 是在需要时才创建 Bean。</li>
<li><strong>依赖注入</strong>：Spring 支持多种依赖注入方式，如构造函数注入、Setter 方法注入等。在创建 Bean 实例时，Spring 会根据 <code>BeanDefinition</code> 中的依赖信息，将依赖的 Bean 注入到目标 Bean 中。例如，当一个 Bean 依赖另一个 Bean 时，Spring 会自动查找并将依赖的 Bean 实例传递给目标 Bean 的构造函数或 Setter 方法。</li>
</ul>
<h3 id="aop_1">AOP（面向切面编程）的实现<a class="headerlink" href="#aop_1" title="Permanent link">&para;</a></h3>
<p>AOP 的主要目的是将横切关注点（如日志记录、事务管理等）从业务逻辑中分离出来，Spring 底层通过以下两种主要方式实现 AOP：</p>
<ul>
<li><strong>JDK 动态代理</strong>：当目标对象实现了接口时，Spring 会使用 JDK 动态代理来创建代理对象。JDK 动态代理基于 Java 的反射机制，通过实现 <code>InvocationHandler</code> 接口和 <code>Proxy</code> 类来创建代理对象。在运行时，代理对象会拦截对目标对象方法的调用，并在调用前后插入切面逻辑。</li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Java</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-5-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-5-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-5-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-5-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-5-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-5-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-5-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-5-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-5-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-5-10">10</a></span>
<span class="normal"><a href="#__codelineno-5-11">11</a></span>
<span class="normal"><a href="#__codelineno-5-12">12</a></span>
<span class="normal"><a href="#__codelineno-5-13">13</a></span>
<span class="normal"><a href="#__codelineno-5-14">14</a></span>
<span class="normal"><a href="#__codelineno-5-15">15</a></span>
<span class="normal"><a href="#__codelineno-5-16">16</a></span>
<span class="normal"><a href="#__codelineno-5-17">17</a></span>
<span class="normal"><a href="#__codelineno-5-18">18</a></span>
<span class="normal"><a href="#__codelineno-5-19">19</a></span>
<span class="normal"><a href="#__codelineno-5-20">20</a></span>
<span class="normal"><a href="#__codelineno-5-21">21</a></span>
<span class="normal"><a href="#__codelineno-5-22">22</a></span>
<span class="normal"><a href="#__codelineno-5-23">23</a></span>
<span class="normal"><a href="#__codelineno-5-24">24</a></span>
<span class="normal"><a href="#__codelineno-5-25">25</a></span>
<span class="normal"><a href="#__codelineno-5-26">26</a></span>
<span class="normal"><a href="#__codelineno-5-27">27</a></span>
<span class="normal"><a href="#__codelineno-5-28">28</a></span>
<span class="normal"><a href="#__codelineno-5-29">29</a></span>
<span class="normal"><a href="#__codelineno-5-30">30</a></span>
<span class="normal"><a href="#__codelineno-5-31">31</a></span>
<span class="normal"><a href="#__codelineno-5-32">32</a></span>
<span class="normal"><a href="#__codelineno-5-33">33</a></span>
<span class="normal"><a href="#__codelineno-5-34">34</a></span>
<span class="normal"><a href="#__codelineno-5-35">35</a></span>
<span class="normal"><a href="#__codelineno-5-36">36</a></span>
<span class="normal"><a href="#__codelineno-5-37">37</a></span>
<span class="normal"><a href="#__codelineno-5-38">38</a></span>
<span class="normal"><a href="#__codelineno-5-39">39</a></span>
<span class="normal"><a href="#__codelineno-5-40">40</a></span>
<span class="normal"><a href="#__codelineno-5-41">41</a></span>
<span class="normal"><a href="#__codelineno-5-42">42</a></span>
<span class="normal"><a href="#__codelineno-5-43">43</a></span>
<span class="normal"><a href="#__codelineno-5-44">44</a></span>
<span class="normal"><a href="#__codelineno-5-45">45</a></span>
<span class="normal"><a href="#__codelineno-5-46">46</a></span>
<span class="normal"><a href="#__codelineno-5-47">47</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.lang.reflect.InvocationHandler</span><span class="p">;</span>
<a id="__codelineno-5-2" name="__codelineno-5-2"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.lang.reflect.Method</span><span class="p">;</span>
<a id="__codelineno-5-3" name="__codelineno-5-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.lang.reflect.Proxy</span><span class="p">;</span>
<a id="__codelineno-5-4" name="__codelineno-5-4"></a>
<a id="__codelineno-5-5" name="__codelineno-5-5"></a><span class="c1">// 定义接口</span>
<a id="__codelineno-5-6" name="__codelineno-5-6"></a><span class="kd">interface</span> <span class="nc">UserService</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-5-7" name="__codelineno-5-7"></a><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">addUser</span><span class="p">();</span>
<a id="__codelineno-5-8" name="__codelineno-5-8"></a><span class="p">}</span>
<a id="__codelineno-5-9" name="__codelineno-5-9"></a>
<a id="__codelineno-5-10" name="__codelineno-5-10"></a><span class="c1">// 实现类</span>
<a id="__codelineno-5-11" name="__codelineno-5-11"></a><span class="kd">class</span> <span class="nc">UserServiceImpl</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">UserService</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-5-12" name="__codelineno-5-12"></a><span class="w">    </span><span class="nd">@Override</span>
<a id="__codelineno-5-13" name="__codelineno-5-13"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">addUser</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-5-14" name="__codelineno-5-14"></a><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;添加用户&quot;</span><span class="p">);</span>
<a id="__codelineno-5-15" name="__codelineno-5-15"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-5-16" name="__codelineno-5-16"></a><span class="p">}</span>
<a id="__codelineno-5-17" name="__codelineno-5-17"></a>
<a id="__codelineno-5-18" name="__codelineno-5-18"></a><span class="c1">// 实现 InvocationHandler 接口</span>
<a id="__codelineno-5-19" name="__codelineno-5-19"></a><span class="kd">class</span> <span class="nc">MyInvocationHandler</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">InvocationHandler</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-5-20" name="__codelineno-5-20"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Object</span><span class="w"> </span><span class="n">target</span><span class="p">;</span>
<a id="__codelineno-5-21" name="__codelineno-5-21"></a>
<a id="__codelineno-5-22" name="__codelineno-5-22"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">MyInvocationHandler</span><span class="p">(</span><span class="n">Object</span><span class="w"> </span><span class="n">target</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-5-23" name="__codelineno-5-23"></a><span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">target</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">target</span><span class="p">;</span>
<a id="__codelineno-5-24" name="__codelineno-5-24"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-5-25" name="__codelineno-5-25"></a>
<a id="__codelineno-5-26" name="__codelineno-5-26"></a><span class="w">    </span><span class="nd">@Override</span>
<a id="__codelineno-5-27" name="__codelineno-5-27"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Object</span><span class="w"> </span><span class="nf">invoke</span><span class="p">(</span><span class="n">Object</span><span class="w"> </span><span class="n">proxy</span><span class="p">,</span><span class="w"> </span><span class="n">Method</span><span class="w"> </span><span class="n">method</span><span class="p">,</span><span class="w"> </span><span class="n">Object</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">Throwable</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-5-28" name="__codelineno-5-28"></a><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;方法调用前&quot;</span><span class="p">);</span>
<a id="__codelineno-5-29" name="__codelineno-5-29"></a><span class="w">        </span><span class="n">Object</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">method</span><span class="p">.</span><span class="na">invoke</span><span class="p">(</span><span class="n">target</span><span class="p">,</span><span class="w"> </span><span class="n">args</span><span class="p">);</span>
<a id="__codelineno-5-30" name="__codelineno-5-30"></a><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;方法调用后&quot;</span><span class="p">);</span>
<a id="__codelineno-5-31" name="__codelineno-5-31"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">result</span><span class="p">;</span>
<a id="__codelineno-5-32" name="__codelineno-5-32"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-5-33" name="__codelineno-5-33"></a><span class="p">}</span>
<a id="__codelineno-5-34" name="__codelineno-5-34"></a>
<a id="__codelineno-5-35" name="__codelineno-5-35"></a><span class="c1">// 测试代码</span>
<a id="__codelineno-5-36" name="__codelineno-5-36"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">JdkProxyExample</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-5-37" name="__codelineno-5-37"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-5-38" name="__codelineno-5-38"></a><span class="w">        </span><span class="n">UserService</span><span class="w"> </span><span class="n">userService</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">UserServiceImpl</span><span class="p">();</span>
<a id="__codelineno-5-39" name="__codelineno-5-39"></a><span class="w">        </span><span class="n">MyInvocationHandler</span><span class="w"> </span><span class="n">handler</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">MyInvocationHandler</span><span class="p">(</span><span class="n">userService</span><span class="p">);</span>
<a id="__codelineno-5-40" name="__codelineno-5-40"></a><span class="w">        </span><span class="n">UserService</span><span class="w"> </span><span class="n">proxy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">UserService</span><span class="p">)</span><span class="w"> </span><span class="n">Proxy</span><span class="p">.</span><span class="na">newProxyInstance</span><span class="p">(</span>
<a id="__codelineno-5-41" name="__codelineno-5-41"></a><span class="w">                </span><span class="n">userService</span><span class="p">.</span><span class="na">getClass</span><span class="p">().</span><span class="na">getClassLoader</span><span class="p">(),</span>
<a id="__codelineno-5-42" name="__codelineno-5-42"></a><span class="w">                </span><span class="n">userService</span><span class="p">.</span><span class="na">getClass</span><span class="p">().</span><span class="na">getInterfaces</span><span class="p">(),</span>
<a id="__codelineno-5-43" name="__codelineno-5-43"></a><span class="w">                </span><span class="n">handler</span>
<a id="__codelineno-5-44" name="__codelineno-5-44"></a><span class="w">        </span><span class="p">);</span>
<a id="__codelineno-5-45" name="__codelineno-5-45"></a><span class="w">        </span><span class="n">proxy</span><span class="p">.</span><span class="na">addUser</span><span class="p">();</span>
<a id="__codelineno-5-46" name="__codelineno-5-46"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-5-47" name="__codelineno-5-47"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<ul>
<li><strong>CGLIB 代理</strong>：当目标对象没有实现接口时，Spring 会使用 CGLIB 代理来创建代理对象。CGLIB 是一个强大的、高性能的代码生成库，它通过继承目标对象的类来创建代理对象，并重写目标对象的方法，在方法调用前后插入切面逻辑。</li>
</ul>
<p>Spring AOP 会根据目标对象是否实现接口来自动选择使用 JDK 动态代理还是 CGLIB 代理。此外，Spring AOP 还使用了 <code>AspectJ</code> 的注解和语法来定义切面、切点和通知，通过 <code>AnnotationAwareAspectJAutoProxyCreator</code> 等组件来自动创建代理对象。</p>
<p>综上所述，Spring 通过 <code>BeanDefinition</code>、<code>BeanFactory</code> 等组件实现了 IoC，通过 JDK 动态代理和 CGLIB 代理等技术实现了 AOP，为开发者提供了强大而灵活的开发框架。</p>







  
    
  
  
    
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="最后更新">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="2025年7月21日 10:46:56 UTC">2025年7月21日</span>
  </span>

    
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="创建日期">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="2025年6月23日 16:13:17 UTC">2025年6月23日</span>
  </span>

    
    
    
  </aside>





                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  回到页面顶部
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="页脚" >
        
          
          <a href="../Redis/" class="md-footer__link md-footer__link--prev" aria-label="上一页: Redis">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                上一页
              </span>
              <div class="md-ellipsis">
                Redis
              </div>
            </div>
          </a>
        
        
          
          <a href="../%E5%85%B6%E4%BB%96%EF%BC%88Linux%E3%80%81Docker%E7%AD%89%EF%BC%89/" class="md-footer__link md-footer__link--next" aria-label="下一页: 其他（Linux、Docker等）">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                下一页
              </span>
              <div class="md-ellipsis">
                其他（Linux、Docker等）
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2025 DopplerXD
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/DopplerXD/" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://space.bilibili.com/32152704/" target="_blank" rel="noopener" title="space.bilibili.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M488.6 104.1c16.7 18.1 24.4 39.7 23.3 65.7v202.4c-.4 26.4-9.2 48.1-26.5 65.1-17.2 17-39.1 25.9-65.5 26.7H92.02c-26.45-.8-48.21-9.8-65.28-27.2C9.682 419.4.767 396.5 0 368.2V169.8c.767-26 9.682-47.6 26.74-65.7C43.81 87.75 65.57 78.77 92.02 78h29.38L96.05 52.19c-5.75-5.73-8.63-13-8.63-21.79 0-8.8 2.88-16.06 8.63-21.797C101.8 2.868 109.1 0 117.9 0q13.2 0 21.9 8.603L213.1 78h88l74.5-69.397C381.7 2.868 389.2 0 398 0q13.2 0 21.9 8.603c5.7 5.737 8.6 12.997 8.6 21.797 0 8.79-2.9 16.06-8.6 21.79L394.6 78h29.3c26.4.77 48 9.75 64.7 26.1m-38.8 69.7c-.4-9.6-3.7-17.4-10.7-23.5-5.2-6.1-14-9.4-22.7-9.8H96.05c-9.59.4-17.45 3.7-23.58 9.8-6.14 6.1-9.4 13.9-9.78 23.5v194.4c0 9.2 3.26 17 9.78 23.5s14.38 9.8 23.58 9.8H416.4c9.2 0 17-3.3 23.3-9.8s9.7-14.3 10.1-23.5zm-264.3 42.7c6.3 6.3 9.7 14.1 10.1 23.2V273c-.4 9.2-3.7 16.9-9.8 23.2-6.2 6.3-14 9.5-23.6 9.5s-17.5-3.2-23.6-9.5-9.4-14-9.8-23.2v-33.3c.4-9.1 3.8-16.9 10.1-23.2s13.2-9.6 23.3-10c9.2.4 17 3.7 23.3 10m191.5 0c6.3 6.3 9.7 14.1 10.1 23.2V273c-.4 9.2-3.7 16.9-9.8 23.2s-14 9.5-23.6 9.5-17.4-3.2-23.6-9.5c-7-6.3-9.4-14-9.7-23.2v-33.3c.3-9.1 3.7-16.9 10-23.2s14.1-9.6 23.3-10c9.2.4 17 3.7 23.3 10"/></svg>
    </a>
  
    
    
    
    
    <a href="mailto:<1509209607@qq.com>" target="_blank" rel="noopener" title="" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m20 8-8 5-8-5V6l8 5 8-5m0-2H4c-1.11 0-2 .89-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2"/></svg>
    </a>
  
    
    
    
    
    <a href="mailto:<doppleryxc@gmail.com>" target="_blank" rel="noopener" title="" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 18h-2V9.25L12 13 6 9.25V18H4V6h1.2l6.8 4.25L18.8 6H20m0-2H4c-1.11 0-2 .89-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.zhihu.com/people/DopplerXD/" target="_blank" rel="noopener" title="www.zhihu.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M170.54 148.13v217.54l23.43.01 7.71 26.37 42.01-26.37h49.53V148.13zm97.75 193.93h-27.94l-27.9 17.51-5.08-17.47-11.9-.04V171.75h72.82zm-118.46-94.39H97.5c1.74-27.1 2.2-51.59 2.2-73.46h51.16s1.97-22.56-8.58-22.31h-88.5c3.49-13.12 7.87-26.66 13.12-40.67 0 0-24.07 0-32.27 21.57-3.39 8.9-13.21 43.14-30.7 78.12 5.89-.64 25.37-1.18 36.84-22.21 2.11-5.89 2.51-6.66 5.14-14.53h28.87c0 10.5-1.2 66.88-1.68 73.44H20.83c-11.74 0-15.56 23.62-15.56 23.62h65.58C66.45 321.1 42.83 363.12 0 396.34c20.49 5.85 40.91-.93 51-9.9 0 0 22.98-20.9 35.59-69.25l53.96 64.94s7.91-26.89-1.24-39.99c-7.58-8.92-28.06-33.06-36.79-41.81L87.9 311.95c4.36-13.98 6.99-27.55 7.87-40.67h61.65s-.09-23.62-7.59-23.62zm412.02-1.6c20.83-25.64 44.98-58.57 44.98-58.57s-18.65-14.8-27.38-4.06c-6 8.15-36.83 48.2-36.83 48.2zm-150.09-59.09c-9.01-8.25-25.91 2.13-25.91 2.13s39.52 55.04 41.12 57.45l19.46-13.73s-25.67-37.61-34.66-45.86h-.01zM640 258.35c-19.78 0-130.91.93-131.06.93v-101c4.81 0 12.42-.4 22.85-1.2 40.88-2.41 70.13-4 87.77-4.81 0 0 12.22-27.19-.59-33.44-3.07-1.18-23.17 4.58-23.17 4.58s-165.22 16.49-232.36 18.05c1.6 8.82 7.62 17.08 15.78 19.55 13.31 3.48 22.69 1.7 49.15.89 24.83-1.6 43.68-2.43 56.51-2.43v99.81H351.41s2.82 22.31 25.51 22.85h107.94v70.92c0 13.97-11.19 21.99-24.48 21.12-14.08.11-26.08-1.15-41.69-1.81 1.99 3.97 6.33 14.39 19.31 21.84 9.88 4.81 16.17 6.57 26.02 6.57 29.56 0 45.67-17.28 44.89-45.31v-73.32h122.36c9.68 0 8.7-23.78 8.7-23.78z"/></svg>
    </a>
  
    
    
    
    
    <a href="https://www.dopplerxd.site/" target="_blank" rel="noopener" title="DopplerXD&#39;s Blog" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "navigation.tracking", "toc.follow", "navigation.path", "navigation.top", "navigation.tabs", "navigation.prune", "navigation.footer", "navigation.sections", "content.code.copy", "search.share", "search.suggest", "search.highlight", "content.code.copy", "content.code.annotate"], "search": "../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.56ea9cef.min.js"></script>
      
        <script src="../../javascripts/extra.js"></script>
      
        <script src="../../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
        <script src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>